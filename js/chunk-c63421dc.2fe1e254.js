(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c63421dc"],{"0142":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAQAAACJ4248AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmBBYFJxE6hazAAAAByElEQVRYw+2UMS9DYRSG3++WREXEJGFjafwAUjeGGuxGv4CpBv4CjUUQi0lsfoLEVEPTtQtSWxdpYywVjd7H0BTtveW6ra+ReMcv+c77nDfnHOlff0XguhCPD8B4ZAT29uD1FSYmLJsvLuLd3vIuSwDtXX+WBQB/15YAIB7H29+HRoN+yHt8hJsbODnBW1kBY74wd10oFvti3BUon4dkMsB8Z6dvXX+reh3W1zsAZmchm7UD0EpjY6MDwnFgawtqNTsELy94CwuSZNpBEgnp9FRy3eBpOTuT6vVwYz05KaVSUrfNyeWMWVoKmIlYDLa3g9P42RrijY3B4WH3JFKpLzYjkYBcrheAj1rHx8EAR0fffOxMIyKANz4O1aofoFAI2UErjeiXEC4u/Nvw8PCDArEYOE50gPNzfwLPz0NhCxjTaEQ1b2puzv9WLvdWM3T3yWTwQbq8tGA+PQ13d8EAm5u/Y+oND8PMDKTTUC4Hr2CtBlNTIbs4OOjnIW5qd1eSIk91bxEVClImMyCAUklaXTXm6WkAAFdXYn7eOKVS68USwPW1tLYmLS8bp/36hTxE+bw0OhreEKRKRdzfy2SzxhSLdhr9VwS9AdXKFw7WQXc3AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA0LTIyVDA1OjM5OjE3KzAwOjAw6e3X/AAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wNC0yMlQwNTozOToxNyswMDowMJiwb0AAAAAASUVORK5CYII="},"0a8f":function(t,a,e){"use strict";e("ffbd")},"45e4":function(t,a,e){},"4c70":function(t,a,e){"use strict";e("9e05")},"73a3":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("div",{staticClass:"admin-container py-3 px-2 mb-5"},[n("AdminNav"),n("div",{staticClass:"add-btn"},[n("router-link",{staticClass:"btn btn-outline-info mt-2",attrs:{to:"/admin/restaurants/new"}},[t._v(" Add New Restaurant ")])],1),n("AdminRestaurantsTable",{staticClass:"table"})],1),n("div",{staticClass:"back"},[n("button",{staticClass:"btn btn-link back-btn",attrs:{type:"button"},on:{click:function(a){return t.$router.back()}}},[n("img",{staticClass:"back-icon",attrs:{src:e("0142")}})])]),n("BottomNavTabsForPage",{staticClass:"bottom-navtabs"})],1)},s=[],r=e("e04c"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.isLoading?e("Spinner",{staticClass:"admin-spinner"}):e("table",{staticClass:"table mt-3 mb-5"},[e("thead",{staticClass:"thead"},[e("tr",{staticClass:"tr-header"},[e("th",{staticClass:"column pl-3",attrs:{scope:"col"}},[t._v("ID")]),e("th",{staticClass:"column",attrs:{scope:"col"}},[t._v("Category")]),e("th",{staticClass:"column",attrs:{scope:"col"}},[t._v("Name")]),e("th",{staticClass:"column",attrs:{scope:"col"}},[t._v("Action")])])]),e("tbody",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}]},t._l(t.restaurants,(function(a){return e("tr",{key:a.id,staticClass:"tr-item"},[e("th",{staticClass:"id pl-4",attrs:{scope:"row"}},[t._v(" "+t._s(a.id)+" ")]),e("td",{staticClass:"category"},[t._v(" "+t._s(a.Category?a.Category.name:"uncategorized")+" ")]),e("td",{staticClass:"restaurant-name"},[e("router-link",{staticClass:"title",attrs:{to:{name:"restaurant",params:{id:a.id}}}},[t._v(" "+t._s(a.name)+" ")])],1),e("td",{staticClass:"d-flex justify-content-between"},[e("router-link",{staticClass:"btn btn-link",attrs:{to:{name:"admin-restaurant",params:{id:a.id}}}},[t._v("Show")]),e("router-link",{staticClass:"btn btn-link",attrs:{to:{name:"admin-restaurant-edit",params:{id:a.id}}}},[t._v(" Edit ")]),e("button",{staticClass:"btn delete",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteRestaurant(a.id)}}},[t._v(" Delete ")])],1)])})),0)])},c=[],u=e("1da1"),o=(e("96cf"),e("d9e2"),e("4de4"),e("d3b7"),e("be6c")),l=e("2fa3"),d=e("2375"),A={components:{Spinner:d["a"]},data:function(){return{restaurants:[],isLoading:!0}},created:function(){this.fetchRestaurants()},methods:{fetchRestaurants:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){var e,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o["a"].restaurants.get();case 3:if(e=a.sent,n=e.data,"error"!==n.status){a.next=7;break}throw new Error(n.message);case 7:t.restaurants=n.restaurants,t.isLoading=!1,a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](0),t.isLoading=!1,l["a"].fire({icon:"error",title:"無法取得餐廳資料，請稍後再試"});case 15:case"end":return a.stop()}}),a,null,[[0,11]])})))()},deleteRestaurant:function(t){var a=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].restaurants.deleteRestaurant({restaurantId:t});case 3:if(n=e.sent,s=n.data,"error"!==s.status){e.next=7;break}throw new Error(s.message);case 7:a.restaurants=a.restaurants.filter((function(a){return a.id!==t})),l["a"].fire({icon:"success",title:"刪除餐廳成功"}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),l["a"].fire({icon:"error",title:"無法刪除餐廳，請稍後再試"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}},m=A,f=(e("0a8f"),e("2877")),b=Object(f["a"])(m,i,c,!1,null,"24e56f0c",null),v=b.exports,p=e("a2e7"),C={components:{AdminNav:r["a"],AdminRestaurantsTable:v,BottomNavTabsForPage:p["a"]}},g=C,w=(e("ccdb"),Object(f["a"])(g,n,s,!1,null,"75370cea",null));a["default"]=w.exports},"9e05":function(t,a,e){},a2e7:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"tabs"},[n("ul",{staticClass:"bottom-nav"},[n("li",{staticClass:"items"},[n("button",{staticClass:"btn btn-link back-icon",attrs:{type:"button"},on:{click:function(a){return t.$router.back()}}},[n("img",{attrs:{src:e("0142")}})])]),n("li",{staticClass:"items"},[n("router-link",{attrs:{to:"/restaurants"}},[n("img",{attrs:{src:e("297d")}})])],1)])])},s=[],r=(e("4c70"),e("2877")),i={},c=Object(r["a"])(i,n,s,!1,null,"f96d830a",null);a["a"]=c.exports},be6c:function(t,a,e){"use strict";e("b0c0");var n=e("2fa3");a["a"]={categories:{get:function(){return n["b"].get("/admin/categories")},create:function(t){var a=t.name;return n["b"].post("/admin/categories",{name:a})},update:function(t){var a=t.categoryId,e=t.name;return n["b"].put("/admin/categories/".concat(a),{name:e})},delete:function(t){var a=t.categoryId;return n["b"].delete("/admin/categories/".concat(a))}},restaurants:{create:function(t){var a=t.formData;return n["b"].post("/admin/restaurants",a)},get:function(){return n["b"].get("/admin/restaurants")},getDetail:function(t){var a=t.restaurantId;return n["b"].get("/admin/restaurants/".concat(a))},update:function(t){var a=t.restaurantId,e=t.formData;return n["b"].put("/admin/restaurants/".concat(a),e)},deleteRestaurant:function(t){var a=t.restaurantId;return n["b"].delete("/admin/restaurants/".concat(a))}},users:{get:function(){return n["b"].get("/admin/users")},update:function(t){var a=t.userId,e=t.isAdmin;return n["b"].put("/admin/users/".concat(a),{isAdmin:e})}}}},c8e6:function(t,a,e){},ccdb:function(t,a,e){"use strict";e("c8e6")},d657:function(t,a,e){"use strict";e("45e4")},e04c:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mb-3"},[e("h1",{staticClass:"display-4"},[t._v("Admin System")]),e("ul",{staticClass:"nav nav-pills nav-tabs my-3"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/restaurants"}},[t._v(" Restaurants ")])],1),e("li",[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/categories"}},[t._v(" Categories ")])],1),e("li",[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/users"}},[t._v(" Users ")])],1)])])},s=[],r=(e("d657"),e("2877")),i={},c=Object(r["a"])(i,n,s,!1,null,"d2dc64dc",null);a["a"]=c.exports},ffbd:function(t,a,e){}}]);
//# sourceMappingURL=chunk-c63421dc.2fe1e254.js.map